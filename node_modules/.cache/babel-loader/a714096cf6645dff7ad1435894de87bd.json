{"ast":null,"code":"var _jsxFileName = \"/root/Code/Strangers-Things/src/components/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport ReactDOM from \"react\";\nimport { baseUrl } from \"../api\";\nimport \"./Register.css\";\nimport { BrowserRouter as Router, Route, Routes, Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [submitted, setSubmitted] = useState(false);\n  const [errorAlert, setErrorAlert] = useState(false);\n  const [currentLoggedInUser, setCurrentLoggedInUser] = useState('');\n  const [token, setToken] = useState('');\n\n  const handleUsername = event => {\n    setUsername(event.target.value);\n    setSubmitted(false);\n  };\n\n  const handlePassword = event => {\n    setPassword(event.target.value);\n    setSubmitted(false);\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    try {\n      fetch(`${baseUrl}/users/login`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          user: {\n            username: username,\n            password: password\n          }\n        })\n      }).then(response => response.json()).then(result => {\n        console.log('this is the login result', result);\n        localStorage.setItem('token', JSON.stringify(result.data.token));\n        setToken(JSON.stringify(result.data.token));\n      }).catch(console.error);\n    } catch (error) {}\n\n    ;\n    localStorage.setItem(\"username\", username);\n    localStorage.setItem(\"password\", password);\n    console.log('this is local storage', localStorage);\n    setUsername('');\n    setPassword('');\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"label\",\n        children: \"Username: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Username\",\n        onChange: handleUsername,\n        className: \"input\",\n        value: username,\n        type: \"text\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"label\",\n        children: \"Password: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Password\",\n        onChange: handlePassword,\n        className: \"input\",\n        value: password,\n        type: \"password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSubmit,\n        className: \"btn\",\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Not registered yet? \", /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          children: \"Create Account here\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 32\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"5VWTQEja2Svw2cCuWStSGYDgegE=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","ReactDOM","baseUrl","BrowserRouter","Router","Route","Routes","Link","Login","username","setUsername","password","setPassword","submitted","setSubmitted","errorAlert","setErrorAlert","currentLoggedInUser","setCurrentLoggedInUser","token","setToken","handleUsername","event","target","value","handlePassword","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","user","then","response","json","result","console","log","localStorage","setItem","data","catch","error"],"sources":["/root/Code/Strangers-Things/src/components/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport ReactDOM from \"react\";\nimport { baseUrl } from \"../api\";\nimport \"./Register.css\";\nimport { BrowserRouter as Router, Route, Routes, Link} from 'react-router-dom';\n\nconst Login = () => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [submitted, setSubmitted] = useState(false);\n  const [errorAlert, setErrorAlert] = useState(false);\n  const [currentLoggedInUser, setCurrentLoggedInUser] = useState('');\n  const [token, setToken] = useState('');\n  \n  \n\n  const handleUsername = (event) => {\n    setUsername(event.target.value);\n    setSubmitted(false);\n  };\n\n  const handlePassword = (event) => {\n    setPassword(event.target.value);\n    setSubmitted(false);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n\n    try {\n      fetch(\n        `${baseUrl}/users/login`,\n        {\n          method: \"POST\",\n          headers: {\n            \"Content-Type\": \"application/json\",\n          },\n          body: JSON.stringify({\n            user: {\n              username: username,\n              password: password,\n            },\n          }),\n        }\n      )\n        .then((response) => response.json())\n        .then((result) => {\n          console.log('this is the login result', result);\n          \n          localStorage.setItem('token', JSON.stringify(result.data.token));\n          setToken(JSON.stringify(result.data.token))\n          \n        })\n        .catch(console.error);\n    } catch (error) {};\n\n    localStorage.setItem(\"username\", username);\n    localStorage.setItem(\"password\", password);\n\n    console.log('this is local storage', localStorage)\n    setUsername('');\n    setPassword('');\n\n  };\n\n  return (\n    <div className=\"form\">\n      <h1>Login</h1>\n\n      <form>\n        <label className=\"label\">Username: </label>\n        <input\n          placeholder=\"Username\"\n          onChange={handleUsername}\n          className=\"input\"\n          value={username}\n          type=\"text\"\n          required\n        />\n\n        <label className=\"label\">Password: </label>\n        <input\n          placeholder=\"Password\"\n          onChange={handlePassword}\n          className=\"input\"\n          value={password}\n          type=\"password\"\n          required\n        />\n\n        <button onClick={handleSubmit} className=\"btn\" type=\"submit\">\n          Submit\n        </button>\n        <p>Not registered yet? <Link to='/register'>Create Account here</Link></p>\n      </form>\n\n\n\n    </div>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}