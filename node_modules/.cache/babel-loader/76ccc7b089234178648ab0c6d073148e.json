{"ast":null,"code":"var _jsxFileName = \"/root/Code/Strangers-Things/src/components/Register.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport ReactDOM from \"react\";\nimport { baseUrl } from \"../api\";\nimport \"./Register.css\";\nimport { BrowserRouter as Router, Route, Routes, Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Register = () => {\n  _s();\n\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [password2, setPassword2] = useState(\"\");\n  const [submitted, setSubmitted] = useState(false);\n  const [errorAlert, setErrorAlert] = useState(false); // const [token, setToken] = useState({});\n\n  const handleUsername = event => {\n    setUsername(event.target.value);\n    setSubmitted(false);\n  };\n\n  const handlePassword = event => {\n    setPassword(event.target.value);\n    setSubmitted(false);\n  };\n\n  const handlePassword2 = event => {\n    setPassword2(event.target.value);\n    setErrorAlert(false);\n  };\n\n  const handleSubmit = async event => {\n    event.preventDefault();\n\n    try {\n      fetch(`${baseUrl}/users/register`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          user: {\n            username: username,\n            password: password\n          }\n        })\n      }).then(response => response.json()).then(result => {\n        console.log(\"this is the result\", result);\n      }); // setToken(result.data.token)\n\n      console.log(\"this is token\", token).catch(console.error);\n    } catch (error) {}\n\n    if (username === \"\" || password === \"\") {\n      setErrorAlert(true);\n    } else {\n      setSubmitted(true);\n      setErrorAlert(false);\n    }\n\n    if (password !== password2) {\n      setErrorAlert(true);\n    }\n\n    localStorage.setItem('username', username);\n    localStorage.setItem('password', password); // localStorage.setItem('token', token);\n    // setToken(result.data.token)\n\n    setUsername('');\n    setPassword('');\n    setPassword2('');\n  };\n\n  const successMessage = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"success\",\n      style: {\n        display: submitted ? \"\" : \"none\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"User \", username, \" successfully registered!\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this);\n  };\n\n  const errorMessage = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"error\",\n      style: {\n        display: errorAlert ? \"\" : \"none\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Please enter all required fields\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"form\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"User Registration\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"messages\",\n      children: [errorMessage(), successMessage()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"label\",\n        children: \"Username: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Username\",\n        onChange: handleUsername,\n        className: \"input\",\n        value: username,\n        type: \"text\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"label\",\n        children: \" Password: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Password\",\n        minLength: \"6\",\n        onChange: handlePassword,\n        className: \"input\",\n        value: password,\n        type: \"password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        className: \"label\",\n        children: \" Confirm Password: \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        placeholder: \"Confirm Password\",\n        minLength: \"6\",\n        onChange: handlePassword2,\n        className: \"input\",\n        value: password2,\n        type: \"password\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSubmit,\n        className: \"btn\",\n        type: \"submit\",\n        children: \"Submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Already have an account? \", /*#__PURE__*/_jsxDEV(Link, {\n        to: \"/login\",\n        children: \"Sign In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 35\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Register, \"9mxEJMB7o0X0oqR1dGwmQ3rSjzE=\");\n\n_c = Register;\nexport default Register;\n\nvar _c;\n\n$RefreshReg$(_c, \"Register\");","map":{"version":3,"names":["React","useState","useEffect","ReactDOM","baseUrl","BrowserRouter","Router","Route","Routes","Link","Register","username","setUsername","password","setPassword","password2","setPassword2","submitted","setSubmitted","errorAlert","setErrorAlert","handleUsername","event","target","value","handlePassword","handlePassword2","handleSubmit","preventDefault","fetch","method","headers","body","JSON","stringify","user","then","response","json","result","console","log","token","catch","error","localStorage","setItem","successMessage","display","errorMessage"],"sources":["/root/Code/Strangers-Things/src/components/Register.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ReactDOM from \"react\";\nimport { baseUrl } from \"../api\";\nimport \"./Register.css\";\nimport { BrowserRouter as Router, Route, Routes, Link} from 'react-router-dom';\n\n\nconst Register = () => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [password2, setPassword2] = useState(\"\");\n  const [submitted, setSubmitted] = useState(false);\n  const [errorAlert, setErrorAlert] = useState(false);\n  // const [token, setToken] = useState({});\n\n  const handleUsername = (event) => {\n    setUsername(event.target.value);\n    setSubmitted(false);\n  };\n\n  const handlePassword = (event) => {\n    setPassword(event.target.value);\n    setSubmitted(false);\n  };\n\n  const handlePassword2 = (event) => {\n    setPassword2(event.target.value);\n    setErrorAlert(false);\n  };\n\n  const handleSubmit = async (event) => {\n    event.preventDefault();\n    try {\n      fetch(`${baseUrl}/users/register`, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n        },\n        body: JSON.stringify({\n          user: {\n            username: username,\n            password: password,\n          },\n        }),\n      })\n        .then((response) => response.json())\n        .then((result) => {\n          console.log(\"this is the result\", result);\n        })\n        // setToken(result.data.token)\n        console.log(\"this is token\", token)\n        .catch(console.error);\n    } catch (error) {}\n    if (username === \"\" || password === \"\") {\n      setErrorAlert(true);\n    } else {\n      setSubmitted(true);\n      setErrorAlert(false);\n    }\n    if (password !== password2) {\n      setErrorAlert(true);\n    }\n\n    localStorage.setItem('username', username);\n    localStorage.setItem('password', password);\n    // localStorage.setItem('token', token);\n    // setToken(result.data.token)\n    setUsername('');\n    setPassword('');\n    setPassword2('');\n\n  };\n\n  const successMessage = () => {\n    return (\n      <div className=\"success\" style={{ display: submitted ? \"\" : \"none\" }}>\n        <h1>User {username} successfully registered!</h1>\n      </div>\n    );\n  };\n\n  const errorMessage = () => {\n    return (\n      <div className=\"error\" style={{ display: errorAlert ? \"\" : \"none\" }}>\n        <h1>Please enter all required fields</h1>\n      </div>\n    );\n  };\n\n  return (\n    <div className=\"form\">\n      <div>\n        <h1>User Registration</h1>\n      </div>\n      <div className=\"messages\">\n        {errorMessage()}\n        {successMessage()}\n      </div>\n\n      <form>\n        <label className=\"label\">Username: </label>\n        <input\n          placeholder=\"Username\"\n          onChange={handleUsername}\n          className=\"input\"\n          value={username}\n          type=\"text\"\n          required\n        />\n\n        <label className=\"label\"> Password: </label>\n        <input\n          placeholder=\"Password\"\n          minLength=\"6\"\n          onChange={handlePassword}\n          className=\"input\"\n          value={password}\n          type=\"password\"\n          required\n        />\n\n        <label className=\"label\"> Confirm Password: </label>\n        <input\n          placeholder=\"Confirm Password\"\n          minLength=\"6\"\n          onChange={handlePassword2}\n          className=\"input\"\n          value={password2}\n          type=\"password\"\n          required\n        />\n\n        <button onClick={handleSubmit} className=\"btn\" type=\"submit\">\n          Submit\n        </button>\n      </form>\n      <p>Already have an account? <Link to='/login'>Sign In</Link></p>\n    </div>\n  );\n};\n\nexport default Register;\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAOC,QAAP,MAAqB,OAArB;AACA,SAASC,OAAT,QAAwB,QAAxB;AACA,OAAO,gBAAP;AACA,SAASC,aAAa,IAAIC,MAA1B,EAAkCC,KAAlC,EAAyCC,MAAzC,EAAiDC,IAAjD,QAA4D,kBAA5D;;;AAGA,MAAMC,QAAQ,GAAG,MAAM;EAAA;;EACrB,MAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BX,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACY,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,EAAD,CAAxC;EACA,MAAM,CAACc,SAAD,EAAYC,YAAZ,IAA4Bf,QAAQ,CAAC,EAAD,CAA1C;EACA,MAAM,CAACgB,SAAD,EAAYC,YAAZ,IAA4BjB,QAAQ,CAAC,KAAD,CAA1C;EACA,MAAM,CAACkB,UAAD,EAAaC,aAAb,IAA8BnB,QAAQ,CAAC,KAAD,CAA5C,CALqB,CAMrB;;EAEA,MAAMoB,cAAc,GAAIC,KAAD,IAAW;IAChCV,WAAW,CAACU,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX;IACAN,YAAY,CAAC,KAAD,CAAZ;EACD,CAHD;;EAKA,MAAMO,cAAc,GAAIH,KAAD,IAAW;IAChCR,WAAW,CAACQ,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX;IACAN,YAAY,CAAC,KAAD,CAAZ;EACD,CAHD;;EAKA,MAAMQ,eAAe,GAAIJ,KAAD,IAAW;IACjCN,YAAY,CAACM,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAZ;IACAJ,aAAa,CAAC,KAAD,CAAb;EACD,CAHD;;EAKA,MAAMO,YAAY,GAAG,MAAOL,KAAP,IAAiB;IACpCA,KAAK,CAACM,cAAN;;IACA,IAAI;MACFC,KAAK,CAAE,GAAEzB,OAAQ,iBAAZ,EAA8B;QACjC0B,MAAM,EAAE,MADyB;QAEjCC,OAAO,EAAE;UACP,gBAAgB;QADT,CAFwB;QAKjCC,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;UACnBC,IAAI,EAAE;YACJxB,QAAQ,EAAEA,QADN;YAEJE,QAAQ,EAAEA;UAFN;QADa,CAAf;MAL2B,CAA9B,CAAL,CAYGuB,IAZH,CAYSC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EAZtB,EAaGF,IAbH,CAaSG,MAAD,IAAY;QAChBC,OAAO,CAACC,GAAR,CAAY,oBAAZ,EAAkCF,MAAlC;MACD,CAfH,EADE,CAiBA;;MACAC,OAAO,CAACC,GAAR,CAAY,eAAZ,EAA6BC,KAA7B,EACCC,KADD,CACOH,OAAO,CAACI,KADf;IAEH,CApBD,CAoBE,OAAOA,KAAP,EAAc,CAAE;;IAClB,IAAIjC,QAAQ,KAAK,EAAb,IAAmBE,QAAQ,KAAK,EAApC,EAAwC;MACtCO,aAAa,CAAC,IAAD,CAAb;IACD,CAFD,MAEO;MACLF,YAAY,CAAC,IAAD,CAAZ;MACAE,aAAa,CAAC,KAAD,CAAb;IACD;;IACD,IAAIP,QAAQ,KAAKE,SAAjB,EAA4B;MAC1BK,aAAa,CAAC,IAAD,CAAb;IACD;;IAEDyB,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCnC,QAAjC;IACAkC,YAAY,CAACC,OAAb,CAAqB,UAArB,EAAiCjC,QAAjC,EAlCoC,CAmCpC;IACA;;IACAD,WAAW,CAAC,EAAD,CAAX;IACAE,WAAW,CAAC,EAAD,CAAX;IACAE,YAAY,CAAC,EAAD,CAAZ;EAED,CAzCD;;EA2CA,MAAM+B,cAAc,GAAG,MAAM;IAC3B,oBACE;MAAK,SAAS,EAAC,SAAf;MAAyB,KAAK,EAAE;QAAEC,OAAO,EAAE/B,SAAS,GAAG,EAAH,GAAQ;MAA5B,CAAhC;MAAA,uBACE;QAAA,oBAAUN,QAAV;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF;EAKD,CAND;;EAQA,MAAMsC,YAAY,GAAG,MAAM;IACzB,oBACE;MAAK,SAAS,EAAC,OAAf;MAAuB,KAAK,EAAE;QAAED,OAAO,EAAE7B,UAAU,GAAG,EAAH,GAAQ;MAA7B,CAA9B;MAAA,uBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF;EAKD,CAND;;EAQA,oBACE;IAAK,SAAS,EAAC,MAAf;IAAA,wBACE;MAAA,uBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA;IADF;MAAA;MAAA;MAAA;IAAA,QADF,eAIE;MAAK,SAAS,EAAC,UAAf;MAAA,WACG8B,YAAY,EADf,EAEGF,cAAc,EAFjB;IAAA;MAAA;MAAA;MAAA;IAAA,QAJF,eASE;MAAA,wBACE;QAAO,SAAS,EAAC,OAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QACE,WAAW,EAAC,UADd;QAEE,QAAQ,EAAE1B,cAFZ;QAGE,SAAS,EAAC,OAHZ;QAIE,KAAK,EAAEV,QAJT;QAKE,IAAI,EAAC,MALP;QAME,QAAQ;MANV;QAAA;QAAA;QAAA;MAAA,QAFF,eAWE;QAAO,SAAS,EAAC,OAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAXF,eAYE;QACE,WAAW,EAAC,UADd;QAEE,SAAS,EAAC,GAFZ;QAGE,QAAQ,EAAEc,cAHZ;QAIE,SAAS,EAAC,OAJZ;QAKE,KAAK,EAAEZ,QALT;QAME,IAAI,EAAC,UANP;QAOE,QAAQ;MAPV;QAAA;QAAA;QAAA;MAAA,QAZF,eAsBE;QAAO,SAAS,EAAC,OAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAtBF,eAuBE;QACE,WAAW,EAAC,kBADd;QAEE,SAAS,EAAC,GAFZ;QAGE,QAAQ,EAAEa,eAHZ;QAIE,SAAS,EAAC,OAJZ;QAKE,KAAK,EAAEX,SALT;QAME,IAAI,EAAC,UANP;QAOE,QAAQ;MAPV;QAAA;QAAA;QAAA;MAAA,QAvBF,eAiCE;QAAQ,OAAO,EAAEY,YAAjB;QAA+B,SAAS,EAAC,KAAzC;QAA+C,IAAI,EAAC,QAApD;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAjCF;IAAA;MAAA;MAAA;MAAA;IAAA,QATF,eA8CE;MAAA,qDAA4B,QAAC,IAAD;QAAM,EAAE,EAAC,QAAT;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAA5B;IAAA;MAAA;MAAA;MAAA;IAAA,QA9CF;EAAA;IAAA;IAAA;IAAA;EAAA,QADF;AAkDD,CApID;;GAAMjB,Q;;KAAAA,Q;AAsIN,eAAeA,QAAf"},"metadata":{},"sourceType":"module"}